数据库文件为目录下的：kshoppingcentre.db3
## 一、窗口与组件设计

程序初始进入登陆对话窗口（login dialog），登陆成功后进入主界面（mainwindow）

主界面左侧使用一个QTreeWidget作为导航栏，右侧QStackedWidget用于显示导航栏不同的管理窗口

如窗口管理、出售管理均为自定义继承QWidget实现的窗口类，在mainwindow初始化时添加进QStackedWidget

在点击右侧导航栏时根据不同的索引显示相应的QStackedWidget页面

## 二、项目目录层次设计

### 1、dao

相关类文件位于/dao目录下，提供与数据库操作相关的方法接口，即数据库的增删改查

### 2、service

相关类文件位于/service目录下，提供一段逻辑相关的方法接口，例如登录方法（通过一系列逻辑判断返回相应的结果：成功、用户不存在、密码错误等）由调用方法的类根据不同的返回值显示相应的提示信息

### 3、entity

相关类文件位于/entity目录下，每一个entity与数据库表一一对应，用于封装返回值等

### 4、单元测试

相关类文件位于/test目录下，封装各个模块的单元测试，可以使用正则表达式进行判断

### 5、utils

相关类文件位于/utils目录下，提供公共方法、公共常量或者一些工具类，包括单例模式的工具类、常量等等

### 6、windows界面

相关类文件位于/windows目录下，封装了用到的各个窗口，例如：登陆窗口、商品管理界面等等

### 7、自定义代理

相关类文件位于/delegate目录下，封装了自定义组件代理

## 三、其他设计

### 1、单例创建对象

单例工具类位于：/utils/ksingleton，在创建DAO对象指针时，需传入QObject对象指针以使用对象树来管理对象

使用QT提供的QMutex与QMutexLocker实现Double-Check保证多线程下的单例

### 2、组件代理

在QTableView组件加上代理，商品类别在数据库以integer类型存储，直接映射到QTableView上不会显示对应的类别名称而是现实id，所以自定义组件实现需求